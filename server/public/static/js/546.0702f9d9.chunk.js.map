{"version":3,"file":"static/js/546.0702f9d9.chunk.js","mappings":"mTAEaA,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAK,IAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEZC,EAAAA,EAAAA,IAAW,QAASN,GAAO,KAAD,EAAnC,OAARC,EAAQE,EAAAI,KAAAJ,EAAAK,OAAA,SACPP,EAASQ,MAAI,OAEoB,OAFpBN,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAEpBQ,QAAQC,IAAI,oBAAmBT,EAAAO,IAASP,EAAAK,OAAA,SACjC,CACLK,MAAO,GACPC,MAAO,IACR,yBAAAX,EAAAY,OAAA,GAAAhB,EAAA,kBAEJ,gBAXuBiB,GAAA,OAAArB,EAAAsB,MAAA,KAAAC,UAAA,K,UCYxB,EAZgB,SAACC,GACb,IAAAC,GAA4BC,EAAAA,EAAAA,UAASF,GAAcG,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5CI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAQxB,MAAO,CAACE,EAPa,SAACE,GAClB,IAAAC,EAAwBD,EAAME,OAAtBC,EAAIF,EAAJE,KAAMC,EAAKH,EAALG,MACdL,GAASM,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIP,GAAM,IAAAQ,EAAAA,EAAAA,GAAA,GAAGH,EAAOC,IACnC,EACkB,WACdL,EAAUN,EACd,EAEJ,E,SCLQc,GADgBC,EAAAA,EAAAA,MAAAA,EAAAA,EAAAA,KACLC,EAAAA,EAAAA,QAqKnB,MAnKA,WACE,IAAAf,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BP,EAAKS,EAAA,GAAEc,EAAQd,EAAA,GACtBe,GAAwBhB,EAAAA,EAAAA,UAAS,GAAEiB,GAAAf,EAAAA,EAAAA,GAAAc,EAAA,GAA5BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACpBG,GAA0BpB,EAAAA,EAAAA,UAAS,GAAEqB,GAAAnB,EAAAA,EAAAA,GAAAkB,EAAA,GAA9B3B,EAAK4B,EAAA,GAAEC,EAAQD,EAAA,GACtBE,GAA8BvB,EAAAA,EAAAA,WAAS,GAAMwB,GAAAtB,EAAAA,EAAAA,GAAAqB,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAAgC3B,EAAAA,EAAAA,UAAS,IAAG4B,GAAA1B,EAAAA,EAAAA,GAAAyB,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,EAAiCC,EAAQ,CAAC,GAAEC,GAAA/B,EAAAA,EAAAA,GAAA6B,EAAA,GAArCG,EAAQD,EAAA,GAAEE,EAAYF,EAAA,GAEvBG,EAAU,CACd,CACEC,MAAO,KACPC,UAAW,MACXC,IAAK,KACLC,MAAO,OACPC,OAAQ,SAACC,EAAGC,EAAKC,GAAK,OAAO1B,EAAO,GAAKW,EAAWe,EAAQ,CAAC,GAE/D,CACEP,MAAO,OACPC,UAAW,OACXC,IAAK,QAEP,CACEF,MAAO,QACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,eACPC,UAAW,MACXC,IAAK,uBACLE,OAAQ,SAACC,EAAGC,GAAS,IAADE,EAAAC,EAC2BC,EAAAC,EAA7C,GAA4B,QAA5BH,EAAIF,EAAIM,4BAAoB,IAAAJ,GAAQ,QAARC,EAAxBD,EAA0BK,cAAM,IAAAJ,GAAhCA,EAAkCK,MACpC,OAAOC,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,MAAM,UAASC,SAAA,CAAC,IAA0B,QAAzBR,EAACJ,EAAIM,4BAAoB,IAAAF,GAAQ,QAARC,EAAxBD,EAA0BG,cAAM,IAAAF,OAAR,EAAxBA,EAAkCG,QAEpE,GAEF,CACEd,MAAO,aACPC,UAAW,aACXC,IAAK,cAEP,CACEF,MAAO,aACPC,UAAW,aACXC,IAAK,cAEP,CACEF,MAAO,eACPC,UAAW,eACXC,IAAK,gBAEP,CACEF,MAAO,cACPC,UAAW,cACXC,IAAK,eAEP,CACEF,MAAO,OACPC,UAAW,YACXC,IAAK,YACLE,OAAQ,SAACC,GACP,OAAOc,IAAOd,GAAGe,OAAO,mBAC1B,GAEF,CACEpB,MAAO,SACPE,IAAK,MACLE,OAAQ,SAACC,EAAGC,GAAG,OACbe,EAAAA,EAAAA,KAACC,EAAAA,EAAK,CAACC,KAAK,SAAQL,UAClBG,EAAAA,EAAAA,KAAA,KAAAH,SAAIZ,EAAInC,QACF,KAKdqD,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,CAAC5C,EAAMW,IAEV,IAAMiC,EAAW,SAACC,GAChBrC,GAAW,GACXrD,GAAWqC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACRwB,GAAQ,IACXhB,KAAM6C,GAAW7C,EACjB8C,MAAOnC,KACNoC,MAAK,SAAA7E,GACNsC,GAAW,GACXX,EAAS3B,EAAKI,MAAM0E,KAAI,SAAAC,GAAI,OAAAzD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUyD,GAAI,IAAE5B,IAAK4B,EAAKC,KAAG,KACzD9C,EAASlC,EAAKK,MAChB,GACF,EAOM4E,EAAW,WACJ,GAARnD,EACD4C,EAAS,GAET3C,EAAQ,EAEZ,EAEA,OACEuC,EAAAA,EAAAA,KAAA,OAAKY,UAAU,yBAAwBf,UACrCH,EAAAA,EAAAA,MAACmB,EAAAA,EAAG,CAACC,OAAQ,CAAC,GAAI,IAAIjB,SAAA,EACpBG,EAAAA,EAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAEtB,UAC/BG,EAAAA,EAAAA,KAAC9C,EAAM,CACLkE,YAAY,UACZC,YAAU,EACVtE,MAAOyB,EAAS1B,KAChBA,KAAK,OACLoD,KAAK,QACLoB,SAAU7C,EACVkC,SAAUA,OAGdX,EAAAA,EAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAEtB,UAC/BG,EAAAA,EAAAA,KAAC9C,EAAM,CACLkE,YAAY,WACZC,YAAU,EACVtE,MAAOyB,EAAS+C,MAChBzE,KAAK,QACLoD,KAAK,QACLoB,SAAU7C,EACVkC,SAAUA,OAGdX,EAAAA,EAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAEtB,UAC/BG,EAAAA,EAAAA,KAAC9C,EAAM,CACLkE,YAAY,gBACZC,YAAU,EACVtE,MAAOyB,EAASgD,WAChB1E,KAAK,aACLoD,KAAK,QACLoB,SAAU7C,EACVkC,SAAUA,OAGdX,EAAAA,EAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAEtB,UAC/BG,EAAAA,EAAAA,KAAC9C,EAAM,CACLkE,YAAY,kBACZC,YAAU,EACVtE,MAAOyB,EAASiD,aAChB3E,KAAK,eACLoD,KAAK,QACLoB,SAAU7C,EACVkC,SAAUA,OAGdjB,EAAAA,EAAAA,MAACqB,EAAAA,EAAG,CAACW,KAAM,GAAG7B,SAAA,EACZG,EAAAA,EAAAA,KAAC2B,EAAAA,EAAK,CAAC5D,QAASA,EAASW,QAASA,EAASkD,WAAY9F,EAAO+F,YAAY,KAC1E7B,EAAAA,EAAAA,KAAA,OAAKY,UAAU,kBAAiBf,UAC9BG,EAAAA,EAAAA,KAAC8B,EAAAA,EAAU,CAACC,iBAAe,EAACC,iBAAe,EAAC7D,SAAUA,EAAUkC,QAAS7C,EAAMzB,MAAOA,EAAOuF,SA/D9E,SAACW,EAAY9D,GACpCV,EAAQwE,GACR7D,EAAYD,EACd,aAkEF,C","sources":["services/userAPI.js","Hooks/useForm.js","container/pages/Admin/Users.jsx"],"sourcesContent":["import { getRequest } from \"./axiosClient\";\r\n\r\nexport const getAllUsers = async (query) => {\r\n  try {\r\n    const response = await getRequest('users', query);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log('[GET users error]', error);\r\n    return {\r\n      users: [],\r\n      total: 0,\r\n    };\r\n  }\r\n};","import { useState } from 'react'\r\n\r\nconst useForm = (initialValues) => {\r\n    const [values, setValues] = useState(initialValues)\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target\r\n        setValues({ ...values, [name]: value })\r\n    }\r\n    const resetForm = () => {\r\n        setValues(initialValues)\r\n    }\r\n    return [values, handleChange, resetForm]\r\n}\r\n\r\nexport default useForm","import React, { useEffect, useState } from 'react'\r\nimport moment from 'moment';\r\nimport { Button, Col, Row, Typography, Table, Tag, Space, Pagination, Input } from 'antd';\r\nimport { getAllUsers } from '../../../services/userAPI';\r\nimport useForm from '../../../Hooks/useForm';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { Search } = Input;\r\n\r\nfunction Users() {\r\n  const [users, setUsers] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [formData, handleChange] = useForm({});\r\n\r\n  const columns = [\r\n    {\r\n      title: 'No',\r\n      dataIndex: '_id',\r\n      key: 'no',\r\n      width: '50px',\r\n      render: (_, row, index) => ((page - 1) * pageSize + index + 1),\r\n    },\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'ðŸ›’',\r\n      dataIndex: '_id',\r\n      key: 'activeSubscriptionId',\r\n      render: (_, row) => {\r\n        if (row.activeSubscriptionId?.planId?.price) {\r\n          return <Tag color='#108ee9'>${row.activeSubscriptionId?.planId?.price}</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'UTM source',\r\n      dataIndex: 'utm_source',\r\n      key: 'utm_source',\r\n    },\r\n    {\r\n      title: 'UTM medium',\r\n      dataIndex: 'utm_medium',\r\n      key: 'utm_medium',\r\n    },\r\n    {\r\n      title: 'UTM compaign',\r\n      dataIndex: 'utm_compaign',\r\n      key: 'utm_compaign',\r\n    },\r\n    {\r\n      title: 'UTM content',\r\n      dataIndex: 'utm_content',\r\n      key: 'utm_content',\r\n    },\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      render: (_) => {\r\n        return moment(_).format('MM/DD/YY hh:mm A')\r\n      }\r\n    },\r\n    {\r\n      title: 'Action',\r\n      key: '_id',\r\n      render: (_, row) => (\r\n        <Space size=\"middle\">\r\n          <a>{row.name}</a>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, [page, pageSize]);\r\n\r\n  const getUsers = (current) => {\r\n    setLoading(true);\r\n    getAllUsers({\r\n      ...formData,\r\n      page: current || page,\r\n      limit: pageSize,\r\n    }).then(data => {\r\n      setLoading(false);\r\n      setUsers(data.users.map(user => ({ ...user, key: user._id })));\r\n      setTotal(data.total);\r\n    });\r\n  }\r\n\r\n  const handlePageChange = (pageNumber, pageSize) => {\r\n    setPage(pageNumber);\r\n    setPageSize(pageSize);\r\n  }\r\n\r\n  const onSearch = () => {\r\n    if(page == 1) {\r\n      getUsers(1);\r\n    } else {\r\n      setPage(1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container mx-auto my-4'>\r\n      <Row gutter={[16, 16]}>\r\n        <Col sm={12} md={8} lg={6} xl={4}>\r\n          <Search\r\n            placeholder=\"Name...\"\r\n            allowClear\r\n            value={formData.name}\r\n            name='name'\r\n            size='large'\r\n            onChange={handleChange}\r\n            onSearch={onSearch}\r\n          />\r\n        </Col>\r\n        <Col sm={12} md={8} lg={6} xl={4}>\r\n          <Search\r\n            placeholder=\"Email...\"\r\n            allowClear\r\n            value={formData.email}\r\n            name='email'\r\n            size='large'\r\n            onChange={handleChange}\r\n            onSearch={onSearch}\r\n          />\r\n        </Col>\r\n        <Col sm={12} md={8} lg={6} xl={4}>\r\n          <Search\r\n            placeholder=\"Utm Source...\"\r\n            allowClear\r\n            value={formData.utm_source}\r\n            name='utm_source'\r\n            size='large'\r\n            onChange={handleChange}\r\n            onSearch={onSearch}\r\n          />\r\n        </Col>\r\n        <Col sm={12} md={8} lg={6} xl={4}>\r\n          <Search\r\n            placeholder=\"Utm Campaign...\"\r\n            allowClear\r\n            value={formData.utm_campaign}\r\n            name='utm_campaign'\r\n            size='large'\r\n            onChange={handleChange}\r\n            onSearch={onSearch}\r\n          />\r\n        </Col>\r\n        <Col span={24}>\r\n          <Table loading={loading} columns={columns} dataSource={users} pagination={false} />\r\n          <div className=\"text-right mt-2\">\r\n            <Pagination showQuickJumper showSizeChanger pageSize={pageSize} current={page} total={total} onChange={handlePageChange} />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Users;"],"names":["getAllUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","response","wrap","_context","prev","next","getRequest","sent","abrupt","data","t0","console","log","users","total","stop","_x","apply","arguments","initialValues","_useState","useState","_useState2","_slicedToArray","values","setValues","event","_event$target","target","name","value","_objectSpread","_defineProperty","Search","Typography","Input","setUsers","_useState3","_useState4","page","setPage","_useState5","_useState6","setTotal","_useState7","_useState8","loading","setLoading","_useState9","_useState10","pageSize","setPageSize","_useForm","useForm","_useForm2","formData","handleChange","columns","title","dataIndex","key","width","render","_","row","index","_row$activeSubscripti","_row$activeSubscripti2","_row$activeSubscripti3","_row$activeSubscripti4","activeSubscriptionId","planId","price","_jsxs","Tag","color","children","moment","format","_jsx","Space","size","useEffect","getUsers","current","limit","then","map","user","_id","onSearch","className","Row","gutter","Col","sm","md","lg","xl","placeholder","allowClear","onChange","email","utm_source","utm_campaign","span","Table","dataSource","pagination","Pagination","showQuickJumper","showSizeChanger","pageNumber"],"sourceRoot":""}